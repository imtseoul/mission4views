<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>나의 선교 성향 테스트</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.8/dist/web/static/pretendard.css" />
    <style>
        * { font-family: 'Pretendard', -apple-system, sans-serif; }
        body { background: #FAFAFA; min-height: 100vh; }
        .fade-in { animation: fadeIn 0.6s ease-out; }
        .slide-up { animation: slideUp 0.5s ease-out; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes slideUp { from { opacity: 0; transform: translateY(16px); } to { opacity: 1; transform: translateY(0); } }
        .option-hover { transition: all 0.2s ease; }
        .option-hover:hover { transform: translateX(4px); }
        ::-webkit-scrollbar { width: 4px; }
        ::-webkit-scrollbar-thumb { background: #E5E5E5; border-radius: 4px; }
    </style>
</head>
<body>
    <div id="root"></div>
    <script type="text/babel">
        const { useState } = React;

        const questions = [
            { id: 1, question: "교회가 세상에 존재하는 가장 근본적인 목적은 무엇이라고 생각하나요?",
                options: [
                    { type: 'A', text: "죄인들에게 복음을 전하여 심판에서 구원하고 제자 삼는 것" },
                    { type: 'B', text: "하나님의 뜻대로 창조 세계를 돌보고, 병들고 소외된 사회를 회복시키는 것" },
                    { type: 'C', text: "그 시대와 문화 속에서 복음을 새롭게 해석하여 사람들이 이해하게 돕는 것" },
                    { type: 'D', text: "세상과는 다른 거룩한 하나님 나라의 삶을 실제로 보여주는 것" }
                ]
            },
            { id: 2, question: "교회가 '사회 정의' 활동에 참여하는 것에 대해 어떻게 생각하나요?",
                options: [
                    { type: 'A', text: "교회는 영혼 구원에 집중해야 합니다. 사회 활동은 성도 개인이 할 일입니다." },
                    { type: 'B', text: "정의를 구현하는 것도 교회의 필수적인 임무입니다." },
                    { type: 'C', text: "상황에 따라 복음을 전하는 데 필요하다면 해야 합니다." },
                    { type: 'D', text: "교회 안에서 형제자매를 차별 없이 대하는 것이 가장 강력한 정의입니다." }
                ]
            },
            { id: 3, question: "'복음'과 '세상 문화'는 어떤 관계여야 할까요?",
                options: [
                    { type: 'A', text: "대립 관계. 교회는 세상 문화에 물들지 않도록 진리를 수호해야 합니다." },
                    { type: 'B', text: "변혁 관계. 성경적 가치관으로 모든 영역을 변화시켜야 합니다." },
                    { type: 'C', text: "번역 관계. 복음은 각 문화의 옷을 입고 다양하게 표현되어야 합니다." },
                    { type: 'D', text: "대안 관계. 교회는 세상과는 완전히 다른 새로운 문명을 형성해야 합니다." }
                ]
            },
            { id: 4, question: "타문화권 선교사가 가장 중점을 두어야 할 사역은?",
                options: [
                    { type: 'A', text: "성경 말씀을 정확히 가르쳐 회심자를 얻고, 지역 교회의 멤버로 세우는 일" },
                    { type: 'B', text: "복음 전도와 함께, 병원이나 학교를 세워 삶의 질을 개선하고 섬기는 일" },
                    { type: 'C', text: "현지인들의 문화 속에서 복음이 자라나도록 돕는 일" },
                    { type: 'D', text: "성도들이 함께 모여 거룩한 공동체의 본을 보이는 일" }
                ]
            },
            { id: 5, question: "'지옥'과 '심판'에 대한 설교가 현대 교회에 얼마나 필요할까요?",
                options: [
                    { type: 'A', text: "가장 시급합니다. 영원한 심판이 없다면 전도할 이유가 약해집니다." },
                    { type: 'B', text: "필요하지만, 이 땅에서의 책임도 함께 강조되어야 합니다." },
                    { type: 'C', text: "조심해야 합니다. 무조건적인 공포심은 복음을 막을 수 있습니다." },
                    { type: 'D', text: "교회 밖의 세상 방식이 이미 심판 아래 있음을 보여줘야 합니다." }
                ]
            },
            { id: 6, question: "주일 예배와 선교는 어떤 관계가 있을까요?",
                options: [
                    { type: 'A', text: "훈련소. 성도들을 무장시켜 세상에 나가 전도하게 만드는 시간입니다." },
                    { type: 'B', text: "주유소. 세상 속에서 살아갈 영적 에너지를 얻는 곳입니다." },
                    { type: 'C', text: "번역기. 지역의 문화가 반영된 예배일수록 선교에 효과적입니다." },
                    { type: 'D', text: "쇼윈도. 세상은 우리의 예배를 보고 하나님을 알게 됩니다." }
                ]
            },
            { id: 7, question: "다른 교단이나 단체와의 '연합'에 대해 어떻게 생각하나요?",
                options: [
                    { type: 'A', text: "교리가 같다면 연합하지만, 진리를 타협하면서까지 뭉치는 것은 반대합니다." },
                    { type: 'B', text: "세계 복음화와 사회 문제 해결을 위해 교파를 초월해 협력해야 합니다." },
                    { type: 'C', text: "다양성은 축복입니다. 서로 다른 배경의 교회들이 서로 배워야 합니다." },
                    { type: 'D', text: "우리는 이미 한 몸입니다. 교회의 하나 됨을 지키는 게 선교입니다." }
                ]
            },
            { id: 8, question: "당신이 생각하는 가장 이상적인 교회의 모습은?",
                options: [
                    { type: 'A', text: "말씀이 올바르게 선포되고, 영혼 구원에 열정적인 교회" },
                    { type: 'B', text: "이웃의 고통을 함께 나누고, 세상의 빛이 되는 교회" },
                    { type: 'C', text: "열려 있으며, 다양한 사람들이 어우러져 복음을 누리는 교회" },
                    { type: 'D', text: "성례전을 귀하게 여기며, 거룩하게 구별된 교회" }
                ]
            },
            { id: 9, question: "'제자 훈련'의 핵심 목표는 무엇이어야 할까요?",
                options: [
                    { type: 'A', text: "교리를 체계적으로 배우고, 개인 경건을 훈련하여 성장하는 것" },
                    { type: 'B', text: "성경적 세계관을 가지고 사회 속에서 크리스천답게 사는 법을 배우는 것" },
                    { type: 'C', text: "나의 고정관념을 깨고, 타인을 이해하고 섬길 수 있는 인격을 기르는 것" },
                    { type: 'D', text: "공동체의 일원으로서 형제자매와 함께 공동체적 삶을 훈련하는 것" }
                ]
            },
            { id: 10, question: "교회 예산을 단 한 곳에만 집중해야 한다면?",
                options: [
                    { type: 'A', text: "미전도 종족에게 복음을 선포하고 교회를 개척하는 선교사 파송" },
                    { type: 'B', text: "가난과 질병으로 고통받는 이들을 돕고 구조적 악과 싸우는 단체 후원" },
                    { type: 'C', text: "현지인들이 스스로 복음을 자신의 문화로 재해석하도록 돕는 사역 지원" },
                    { type: 'D', text: "성도들이 매주 모여 세상과 구별된 거룩한 삶을 실천하는 공동체 형성" }
                ]
            }
        ];

        const results = {
            'A': {
                type: "구원론적 선교",
                en: "Soteriological Mission",
                mentor: "조나단 리먼",
                mentorEn: "Jonathan Leeman",
                color: "#1E40AF",
                quote: "교회의 심장은 '복음 선포'와 '영혼 구원'입니다.",
                desc: "당신은 선교의 본질이 희석되는 것을 가장 경계하는 유형입니다. 교회만이 할 수 있는 가장 고유하고 긴급한 사명인 '예수 그리스도의 복음 선포'와 '죄 용서'에 집중해야 한다고 생각합니다. 교회가 해야 할 일과 성도 개인이 해야 할 일을 명확히 구분하며, 지옥과 심판의 교리를 심각하게 받아들입니다.",
                keywords: ["영혼구원", "말씀중심", "제자삼기", "거룩함"],
                challenge: "개인의 영혼 구원에 집중한 나머지, 창조 세계의 회복이나 이웃이 겪는 현실적인 고통에 대해 교회가 침묵하고 있지는 않은지 돌아볼 필요가 있습니다."
            },
            'B': {
                type: "참여적 선교",
                en: "Participatory Mission",
                mentor: "크리스토퍼 라이트",
                mentorEn: "Christopher J. H. Wright",
                color: "#047857",
                quote: "선교는 하나님의 거대한 회복 역사에 '동참'하는 것입니다.",
                desc: "당신은 선교를 '하나님의 선교(Missio Dei)'라는 거대한 파노라마 속에서 이해합니다. 하나님은 영혼만이 아니라 타락한 세상 전체를 새롭게 회복하길 원하신다고 믿습니다. 복음 전도뿐만 아니라 가난 구제, 정의 구현, 환경 보호도 선교의 본질적인 부분입니다.",
                keywords: ["총체적선교", "하나님의선교", "사회정의", "삶의예배"],
                challenge: "'모든 것이 선교라면, 아무것도 선교가 아니다'라는 비판을 기억해야 합니다. 죄인에게 회개를 촉구하고 십자가 복음을 명확히 전하는 '복음의 중심성'을 잃어버릴 위험은 없는지 점검해야 합니다."
            },
            'C': {
                type: "상황적 선교",
                en: "Contextual Mission",
                mentor: "존 프랭키",
                mentorEn: "John R. Franke",
                color: "#7C3AED",
                quote: "복음은 각 문화의 옷을 입고 '다양하게' 표현되어야 합니다.",
                desc: "당신은 복음이 고정된 화석이 아니라, 각 시대와 문화 속에서 역동적으로 살아 숨 쉬는 생명이라고 믿습니다. '번역'과 '상황화'를 중요하게 여기며, 복음이 그들의 문화적 그릇에 담겨 전해질 때 진정한 변화가 일어난다고 생각합니다.",
                keywords: ["문화존중", "상황화", "다양성", "유연함"],
                challenge: "문화를 존중하는 태도는 훌륭하지만, 자칫 복음의 절대적인 진리나 성경의 규범마저 상대화될 위험은 없을까요? 모든 문화에는 죄로 인해 타락한 부분이 있음을 간과해서는 안 됩니다."
            },
            'D': {
                type: "성례전적 선교",
                en: "Sacramental Mission",
                mentor: "피터 라잇하르트",
                mentorEn: "Peter J. Leithart",
                color: "#B45309",
                quote: "교회는 세상 속에서 하나님 나라를 보여주는 '대조 사회'입니다.",
                desc: "당신은 교회의 존재 그 자체가 선교라고 믿습니다. 교회 안에서부터 세상과는 완전히 다른 방식의 삶을 살아내는 것이 가장 강력한 선교라고 생각합니다. 예배와 성례전은 단순한 의식이 아니라 선교의 핵심 동력입니다.",
                keywords: ["교회됨", "성례전", "대조사회", "공동체"],
                challenge: "교회 내부의 거룩함과 예전에 집중하느라, 교회 담장 밖의 잃어버린 영혼들에게 나아가 복음을 전하는 '가는 선교'의 열정을 잃어버릴 수도 있습니다."
            }
        };

        function App() {
            const [step, setStep] = useState('welcome');
            const [currentQ, setCurrentQ] = useState(0);
            const [answers, setAnswers] = useState({});
            const [finalType, setFinalType] = useState(null);
            const [scores, setScores] = useState({});

            const handleAnswer = (type) => {
                const newAnswers = { ...answers, [currentQ]: type };
                setAnswers(newAnswers);
                setTimeout(() => {
                    if (currentQ < questions.length - 1) setCurrentQ(currentQ + 1);
                    else calculate(newAnswers);
                }, 200);
            };

            const calculate = (ans) => {
                const s = { A: 0, B: 0, C: 0, D: 0 };
                Object.values(ans).forEach(t => s[t]++);
                setScores(s);
                const max = Math.max(...Object.values(s));
                setFinalType(Object.keys(s).find(k => s[k] === max));
                setStep('loading');
                setTimeout(() => setStep('result'), 1800);
            };

            const reset = () => {
                setAnswers({}); setCurrentQ(0); setFinalType(null); setScores({}); setStep('welcome');
            };

            // Welcome
            if (step === 'welcome') return (
                <div className="min-h-screen flex items-center justify-center p-6">
                    <div className="max-w-md w-full fade-in">
                        <div className="text-center mb-16">
                            <div className="w-px h-16 bg-neutral-300 mx-auto mb-8"></div>
                            <h1 className="text-2xl font-light tracking-tight text-neutral-900 mb-3">나의 선교 성향</h1>
                            <p className="text-sm text-neutral-500 font-light">Mission Tendency Test</p>
                        </div>
                        <div className="space-y-4 text-center mb-16">
                            <p className="text-neutral-600 text-sm leading-relaxed">10가지 질문을 통해</p>
                            <p className="text-neutral-600 text-sm leading-relaxed">당신이 생각하는 <span className="text-neutral-900">'교회의 선교'</span>가</p>
                            <p className="text-neutral-600 text-sm leading-relaxed">어떤 모습인지 알아봅니다.</p>
                        </div>
                        <button onClick={() => setStep('quiz')} 
                            className="w-full py-4 bg-neutral-900 text-white text-sm font-medium tracking-wide hover:bg-neutral-800 transition-colors">
                            시작하기
                        </button>
                    </div>
                </div>
            );

            // Quiz
            if (step === 'quiz') return (
                <div className="min-h-screen flex flex-col p-6 max-w-lg mx-auto">
                    <div className="flex items-center justify-between py-4 mb-8">
                        <button onClick={() => currentQ > 0 ? setCurrentQ(currentQ - 1) : setStep('welcome')} 
                            className="text-neutral-400 hover:text-neutral-900 transition-colors">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="1.5"><path d="M19 12H5M12 19l-7-7 7-7"/></svg>
                        </button>
                        <div className="flex items-center gap-2">
                            <span className="text-xs text-neutral-400">{currentQ + 1}</span>
                            <div className="w-24 h-px bg-neutral-200 relative">
                                <div className="absolute h-full bg-neutral-900 transition-all duration-500" 
                                    style={{ width: `${((currentQ + 1) / questions.length) * 100}%` }}></div>
                            </div>
                            <span className="text-xs text-neutral-400">{questions.length}</span>
                        </div>
                    </div>

                    <div className="flex-1 flex flex-col justify-center slide-up" key={currentQ}>
                        <h2 className="text-lg font-normal text-neutral-900 leading-relaxed mb-12 break-keep">
                            {questions[currentQ].question}
                        </h2>
                        <div className="space-y-3">
                            {questions[currentQ].options.map((opt, i) => (
                                <button key={opt.type} onClick={() => handleAnswer(opt.type)}
                                    className={`w-full text-left p-4 border transition-all duration-200 option-hover group
                                        ${answers[currentQ] === opt.type 
                                            ? 'border-neutral-900 bg-neutral-50' 
                                            : 'border-neutral-200 hover:border-neutral-400'}`}
                                    style={{ animationDelay: `${i * 50}ms` }}>
                                    <div className="flex items-start gap-4">
                                        <span className={`text-xs font-medium mt-0.5 transition-colors
                                            ${answers[currentQ] === opt.type ? 'text-neutral-900' : 'text-neutral-400 group-hover:text-neutral-600'}`}>
                                            {opt.type}
                                        </span>
                                        <span className={`text-sm leading-relaxed transition-colors
                                            ${answers[currentQ] === opt.type ? 'text-neutral-900' : 'text-neutral-600'}`}>
                                            {opt.text}
                                        </span>
                                    </div>
                                </button>
                            ))}
                        </div>
                    </div>
                </div>
            );

            // Loading
            if (step === 'loading') return (
                <div className="min-h-screen flex items-center justify-center fade-in">
                    <div className="text-center">
                        <div className="w-8 h-8 border border-neutral-300 border-t-neutral-900 rounded-full animate-spin mx-auto mb-6"></div>
                        <p className="text-sm text-neutral-500">분석 중</p>
                    </div>
                </div>
            );

            // Result
            if (step === 'result' && finalType) {
                const r = results[finalType];
                const total = Object.values(scores).reduce((a, b) => a + b, 0);
                return (
                    <div className="min-h-screen p-6 max-w-lg mx-auto slide-up">
                        <div className="py-8 border-b border-neutral-100 mb-8">
                            <p className="text-xs text-neutral-400 tracking-widest mb-6">RESULT</p>
                            <h1 className="text-2xl font-normal text-neutral-900 mb-2">{r.type}</h1>
                            <p className="text-sm text-neutral-500">{r.en}</p>
                        </div>

                        {/* Score Bars */}
                        <div className="mb-10">
                            <p className="text-xs text-neutral-400 mb-4">성향 분포</p>
                            <div className="space-y-3">
                                {Object.entries(scores).map(([k, v]) => (
                                    <div key={k} className="flex items-center gap-3">
                                        <span className="text-xs text-neutral-500 w-6">{k}</span>
                                        <div className="flex-1 h-1 bg-neutral-100 overflow-hidden">
                                            <div className="h-full transition-all duration-1000 ease-out"
                                                style={{ 
                                                    width: `${(v / total) * 100}%`, 
                                                    backgroundColor: k === finalType ? r.color : '#D4D4D4'
                                                }}></div>
                                        </div>
                                        <span className="text-xs text-neutral-400 w-6 text-right">{v}</span>
                                    </div>
                                ))}
                            </div>
                        </div>

                        {/* Quote */}
                        <div className="py-8 border-y border-neutral-100 mb-8">
                            <p className="text-neutral-700 text-base leading-relaxed italic">"{r.quote}"</p>
                            <div className="mt-4 flex items-center gap-2">
                                <div className="w-6 h-px" style={{ backgroundColor: r.color }}></div>
                                <p className="text-xs text-neutral-500">{r.mentor} · {r.mentorEn}</p>
                            </div>
                        </div>

                        {/* Description */}
                        <div className="mb-8">
                            <p className="text-xs text-neutral-400 mb-4">성향 분석</p>
                            <p className="text-sm text-neutral-600 leading-loose text-justify">{r.desc}</p>
                        </div>

                        {/* Keywords */}
                        <div className="flex flex-wrap gap-2 mb-10">
                            {r.keywords.map((k, i) => (
                                <span key={i} className="text-xs text-neutral-500 px-3 py-1.5 border border-neutral-200">#{k}</span>
                            ))}
                        </div>

                        {/* Challenge */}
                        <div className="bg-neutral-50 p-6 mb-10">
                            <p className="text-xs text-neutral-400 mb-3">생각해 볼 점</p>
                            <p className="text-sm text-neutral-600 leading-loose">{r.challenge}</p>
                        </div>

                        <button onClick={reset}
                            className="w-full py-4 border border-neutral-900 text-neutral-900 text-sm font-medium hover:bg-neutral-900 hover:text-white transition-colors">
                            다시 테스트하기
                        </button>
                    </div>
                );
            }
            return null;
        }

        ReactDOM.createRoot(document.getElementById('root')).render(<App />);
    </script>
</body>
</html>
